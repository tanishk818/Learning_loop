<%- include('./partials/log.ejs') %>

   <body>

      <%- include('./partials/flash')%>

         <div class="container" id="container">
            <div class="form-container sign-up-container">
               <form action="/Signup" method="POST">
                  <h1>Create Account</h1>
                  <span>or use your email for registration</span>
                  <input type="text" placeholder="Name" name="name" required
                     oninvalid="this.setCustomValidity('Username must not be empty')"
                     onchange="this.setCustomValidity('')" />
                  <input type="email" placeholder="Email" name="username" required />
                  <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required
                     title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                     placeholder="Password" name="password" />
                  <button>Sign Up</button>
               </form>
            </div>
            <div class="form-container sign-in-container">
               <form action="/login" method="POST">
                  <h1>Sign in</h1>
                  <span>or use your account</span>
                  <input type="email" placeholder="Email" name="username" required
                   />
                  <input type="password" required placeholder="Password" name="password" />
                  <a href="#" data-target="#pwdModal" data-toggle="modal" id="forgotLink">Forgot your password?</a>

                  <button>Sign In</button>
               </form>

            </div>


            <div class="overlay-container">
               <div class="overlay">
                  <div class="overlay-panel overlay-left">
                     <h1>Welcome Back!</h1>
                     <p>To keep connected with us please login with your personal info</p>
                     <button class="ghost" id="signIn">Sign In</button>
                  </div>
                  <div class="overlay-panel overlay-right">
                     <h1>Hello, Friend!</h1>
                     <p>Enter your personal details and start journey with us</p>
                     <button class="ghost" id="signUp">Sign Up</button>
                  </div>
               </div>
            </div>
         </div>
         <div id="pwdModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
               <div class="modal-content">
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                     <h1 class="text-center">What's My Password?</h1>
                  </div>
                  <div class="modal-body">
                     <div class="col-md-12">
                        <div class="panel panel-default">
                           <div class="panel-body">
                              <div class="text-center">

                                 <p>If you have forgotten your password you can reset it here.</p>
                                 <div class="panel-body">
                                    <fieldset>
                                       <form action="/reset" method="POST">
                                          <input class="form-control input-lg" placeholder="E-mail Address" name="email"
                                             type="email" id="forgotEmail">
                                          <button>Send Mail</button>
                                       </form>
                                    </fieldset>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="modal-footer">
                     <div class="col-md-12">
                        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
         <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
            integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
            crossorigin="anonymous"></script>
         <script>
            const signUpButton = document.getElementById('signUp');
            const signInButton = document.getElementById('signIn');
            const container = document.getElementById('container');


            signUpButton.addEventListener('click', () => {
               container.classList.add("right-panel-active");
            });

            signInButton.addEventListener('click', () => {
               container.classList.remove("right-panel-active");
            });


         </script>
   </body>