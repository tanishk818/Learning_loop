<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
        <link rel="stylesheet" media="screen and (min-width: 600px)" href="arrow.css">
        <link rel="stylesheet" media="screen and (max-width: 600px)" href="small_arrow.css">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
</head>
<body>
   
<!--radius=40 distance between two circle=30 -->

<svg   id = "svgelem" height="200" width="500" xmlns="http://www.w3.org/2000/svg">
<filter id="inset-shadow" x="-50%" y="-50%" width="200%" height="200%">
    <feComponentTransfer in=SourceAlpha>
      <feFuncA type="table" tableValues="1 0" />
    </feComponentTransfer>
    <feGaussianBlur stdDeviation="4"/>
    <feOffset dx="0" dy="5" result="offsetblur"/>
    <feFlood flood-color="rgb(0, 0, 0)" result="color"/>
    <feComposite in2="offsetblur" operator="in"/>
    <feComposite in2="SourceAlpha" operator="in" />
    <feMerge>
      <feMergeNode in="SourceGraphic" />
      <feMergeNode />
    </feMerge>
  </filter>
<circle  cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="#FDD20E"   filter="url(#inset-shadow)" />
   <circle cx="160" cy="50" r="40" stroke="black" stroke-width="3" fill="#FDD20E"  filter="url(#inset-shadow)" />
    <circle cx="270" cy="50" r="40" stroke="black" stroke-width="3" fill="#FDD20E"  filter="url(#inset-shadow)" />
    <circle  cx="50" cy="50" r="20" stroke="black" stroke-width="3" fill="white"  filter="url(#inset-shadow)"  />
</svg> 
<div class="container">  
    <div class="bar bar1"></div>
    <div class="ball"></div>
    <div class="bar bar2"></div>
  <div>
 <!--  <button onclick="myFunction()">></button> -->
<!-- keys code -->
<div class="keys">
  <div class="up arr" onclick="UpMove()"><i class="fa fa-arrow-up"></i></div>
  <br />
  <div class="left arr " onclick="LeftMove()" ><i class="fa fa-arrow-left"></i></div>  
  <div class="down arr" onclick="DownMove()"><i class="fa fa-arrow-down"></i></div>
  <div class="right arr" onclick="RightMove()"><i class="fa fa-arrow-right"></i></div>
</div>

<!-- keys end -->
 <script src="anime.min.js"></script>
 <script src="three.js"></script>
 <script src="three.min.js"></script>
 <script src='THREEx.KeyboardState.js'></script>
<script>
  var temp;
  var radiusvalue = {}
    var value = {}
   // value.x = document.getElementsByTagName("circle")[3].getAttribute("cx")
    var t1 = anime.timeline({
  easing: 'easeOutElastic(1, .8)',
  autoplay: true,
  loop: true,
  duration: 4000
});
  
Idle();
document.addEventListener("keydown", onDocumentKeyDown, false);
function onDocumentKeyDown(event) {
    var keyCode = event.which;
    // up
    if (keyCode == 87) {
       UpMove()
        // down
    } else if (keyCode == 83) {
       DownMove()
        // left
    } else if (keyCode == 65) {
       LeftMove();
        // right
    } else if (keyCode == 68) {
       RightMove();
        // space
    } else if (keyCode == 32) {
       
    }
    else {
      Idle();
    }
    
};
function sound(src) {
    this.sound = document.createElement("audio");
    this.sound.src = src;
    this.sound.setAttribute("preload", "auto");
    this.sound.setAttribute("controls", "none");
    this.sound.style.display = "none";
    document.body.appendChild(this.sound);
    this.play = function(){
        this.sound.play();
    }
    this.stop = function(){
        this.sound.pause();
    }    
}
function Idle()
{
  console.log("I am in");
  radiusvalue.x = document.getElementsByTagName("circle")[3].getAttribute("r"); 
  t1.add({
    targets:radiusvalue,
   keyframes: [
      
       {x: 25},
       {x: 20}
   ],
      
       
      
      duration: 1000,
      easing: 'linear',
      autoplay: true,
      loop: true,
      update: function(){

       
        document.getElementsByTagName("circle")[3].setAttribute("r",radiusvalue.x);
        
        //console.log( scene.getBoneByName("mixamorig:LeftLeg").myRotation.x);
      },
        complete: function() {console.log("I M RESTSRT");}//hello.restart();} 


    
  });
  t1.play();
  console.log(t1);
}

function RightMove() {
   
  myMusic = new sound("Drip.wav");
  myMusic.play();

value.x =+ document.getElementsByTagName("circle")[3].getAttribute("cx"); 


  temp =+ document.getElementsByTagName("circle")[3].getAttribute("cx")+ +110; 
 
 if (temp >= 380)
 {
     temp = 50;
 }
 console.log(temp + " tem ")
 anime({
  targets: value,
  x: temp,
  duration: 300,
  autoplay: true,
  update: function(){
          console.log("SS" + value.x);
       
            document.getElementsByTagName("circle")[3].setAttribute("cx",value.x);
          
         
      
      },
  easing: 'easeInOutSine'
});
 

}
function LeftMove()
{
  temp =document.getElementsByTagName("circle")[3].getAttribute("cx");

  myMusic = new sound("Drip.wav");
  myMusic.play();
  console.log("beforele " + temp)
  value.x = document.getElementsByTagName("circle")[3].getAttribute("cx"); 
  temp = temp -110
  if (temp <0)
  {
    temp = 270
  }
  console.log("for left move " + temp)
  anime({
  targets: value,
  x: temp,
  duration: 300,
  autoplay: true,
  update: function(){
          console.log("SS" + value.x);
       
            document.getElementsByTagName("circle")[3].setAttribute("cx",value.x);
          
         
        console.log(value.x);
     
      },
  easing: 'easeInOutSine'
});
}

function DownMove()
{
  temp =document.getElementsByTagName("circle")[3].getAttribute("cy");

  myMusic = new sound("InvalidMove.wav");
  myMusic.play();
  console.log("beforele " + temp)
  value.x = document.getElementsByTagName("circle")[3].getAttribute("cy"); 
  temp =+ document.getElementsByTagName("circle")[3].getAttribute("cy")+ +110; 
  if (temp > 50)
  {
    temp = 50
  }
  console.log("for left move " + temp)
  anime({
  targets: value,
  x: temp,
  duration: 300,
  autoplay: true,
  update: function(){
         
       
            document.getElementsByTagName("circle")[3].setAttribute("cy",value.x);
          
         
       
     
      },
  easing: 'easeInOutSine'
});
}

function UpMove()
{
  temp = document.getElementsByTagName("circle")[3].getAttribute("cy");

  myMusic = new sound("InvalidMove.wav");
  myMusic.play();
  console.log("beforele I m " + temp)
  value.x = document.getElementsByTagName("circle")[3].getAttribute("cy"); 
  temp = temp+  +110
  if (temp > 380)
  {
    temp = 50
  }
  console.log("for left move " + temp)
  anime({
  targets: value,
  x: temp,
  duration: 300,
  autoplay: true,
  update: function(){
          console.log("SS" + value.x);
       
            document.getElementsByTagName("circle")[3].setAttribute("cy",value.x);
          
         
        console.log(value.x);
     
      },
  easing: 'easeInOutSine'
});

}
</script>
</body>
</html>

